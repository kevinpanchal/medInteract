<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Medinteract</title>

    <link rel="stylesheet" type="text/css" href="static/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2023.1.117/styles/kendo.default-ocean-blue.min.css" />
    <script src="https://kendo.cdn.telerik.com/2023.1.117/js/kendo.all.min.js"></script>
    <script src="./static/login/provinceList.js"></script>

    <style>
        #slide {
            height: 80vh;
        }

        @media only screen and (max-width: 767.98px) {
            #slide {
                height: 50vh;
            }
        }

        * {
            box-sizing: border-box
        }

        .mySlides {
            display: none
        }

        .slideshow-container {
            position: relative;
        }

        /* Next & previous buttons */

        .prev,
        .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -22px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            border-radius: 0 3px 3px 0;
        }

        /* Position the "next button" to the right */

        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        /* On hover, add a black background color with a little bit see-through */

        .prev:hover,
        .next:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        /* Caption text */

        .text {
            color: #f2f2f2;
            font-size: 15px;
            padding: 8px 12px;
            position: absolute;
            bottom: 8px;
            width: 100%;
            text-align: center;
        }

        /* The dots/bullets/indicators */

        .dot {
            cursor: pointer;
            height: 13px;
            width: 13px;
            margin: 0 2px;
            background-color: #717171;
            border-radius: 50%;
            display: inline-block;
        }

        .active,
        .dot:hover {
            background-color: #bbb;
        }

        /* Fading animation */

        .fade {
            -webkit-animation-name: fade;
            -webkit-animation-duration: 7s;
            animation-name: fade;
            animation-duration: 7s;
        }

        @-webkit-keyframes fade {
            from {
                opacity: 1
            }

            to {
                opacity: 1
            }
        }

        /* On smaller screens, decrease text size */

        @media only screen and (max-width: 300px) {
            .text {
                font-size: 11px
            }
        }

        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>

<body>
    <div>

        <div class="row">
            <div class="col-sm-2"></div>

            <div class="text-center text-white my-4">
                <h1><u> <b> Medinteract </b> </u></h1>
            </div>
        </div>
        <div class="row border mb-2">
            <div id="slide" class="col-md-6 p-0">
                <div class="slideshow-container">
                    <div class="mySlides fade" style="display:table-cell; vertical-align:middle; text-align:center">
                        <img src="static/login/1.jpg" style="width: 100%; height: 100%">
                    </div>
                    <div class="mySlides fade" style="display:table-cell; vertical-align:middle; text-align:center">
                        <img src="static/login/2.jpg" style="width: 100%; height: 100%">
                    </div>
                    <div class="mySlides fade" style="display:table-cell; vertical-align:middle; text-align:center">
                        <img src="static/login/3.jpg" style="width: 100%; height: 100%">
                    </div>
                    <div class="mySlides fade" style="display:table-cell; vertical-align:middle; text-align:center">
                        <img src="static/login/4.jpg" style="width: 100%; height: 100%">
                    </div>
                    <div class="mySlides fade" style="display:table-cell; vertical-align:middle; text-align:center">
                        <img src="static/login/5.jpeg" style="width: 100%; height: 100%">
                    </div>
                    <a class="prev" onclick="plusSlides(-1)" style="background: gray">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)" style="background: gray">&#10095;</a>
                </div>
                <div style="text-align:center" class="py-2">
                    <span class="dot" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                    <span class="dot" onclick="currentSlide(4)"></span>
                    <span class="dot" onclick="currentSlide(5)"></span>
                </div>
            </div>
            <div class="col-md-6 p-5">
                <div class="card h-100 border-0">
                    <div class="card-header p-0 border-bottom" style="background-color: #121926">
                        <ul class="nav nav-tabs text-dark">
                            <li class="nav-item col-6 p-0">
                                <a id="signIn" class="nav-link active" aria-current="true"
                                    onclick="setActiveTab('signIn')">Sign
                                    In</a>
                            </li>
                            <li class="nav-item col-6 p-0">
                                <a id="signUp" class="nav-link link-light" onclick="setActiveTab('signUp')">Sign up</a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body" style="height: 70vh; overflow: auto">
                        <form class="mt-5" id="signInForm" method="post">
                            <h2 class="text-center mb-5"> User SignIn</h2>
                            <div class="form-group my-3 row">
                                <label class="col-12 col-xl-3"> UserType : </label>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="userTypeSignIn"
                                            id="userTypeSignIn1" value="Patient" checked>
                                        <label class="form-check-label" for="userTypeSignIn1">
                                            Patient
                                        </label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="userTypeSignIn"
                                            id="userTypeSignIn2" value="Doctor">
                                        <label class="form-check-label" for="userTypeSignIn2">
                                            Doctor
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="emailSignIn"> Email :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="email" class="form-control" placeholder="Enter Username"
                                        id="emailSignIn" name="emailSignIn" autofocus required>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="pwdSignIn"> Password :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="password" class="form-control" placeholder="Enter password"
                                        id="pwdSignIn" name="pwdSignIn" required>
                                </div>
                            </div>
                            <div class="text-center">
                                <input type="submit" class="btn btn-primary" name="submit">
                            </div>
                        </form>

                        <form class="d-none mt-5" id="signUpForm" method="post">
                            <h2 class="text-center mb-5"> User SignUp</h2>
                            <div class="form-group my-3 row">
                                <label class="col-12 col-xl-3"> UserType : </label>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="userTypeSignUp"
                                            id="userTypeSignup1" value="Patient" checked>
                                        <label class="form-check-label" for="userTypeSignup1">
                                            Patient
                                        </label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="userTypeSignUp"
                                            id="userTypeSignup2" value="Doctor">
                                        <label class="form-check-label" for="userTypeSignup2">
                                            Doctor
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="nameSignup"> Name :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="text" class="form-control" placeholder="Enter Name" id="nameSignup"
                                        name="nameSignup" autofocus required>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="emailSignup"> Email :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="email" class="form-control" placeholder="Enter User Email"
                                        id="emailSignup" name="emailSignup" required>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="pwdSignup"> Password :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="password" class="form-control" placeholder="Enter password"
                                        id="pwdSignup" name="pwdSignup" required minlength="8"
                                           oninput="checkPasswordMatch()"
                                           pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+])(?=.*[^\da-zA-Z]).{8,}$"
                                           title="Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one numeric character, one special character (!@#$%^&*()_+), and one non-alphanumeric character.">
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="verifyPwd"> Verify Password :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="password" class="form-control" placeholder="Enter verify password"
                                        id="verifyPwd" name="verifyPwd" required minlength="8"
                                           oninput="checkPasswordMatch()">
                                    <span id="passwordMatchError" style="color:red;"></span>

                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="mobileNumber"> Mobile No :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="number" class="form-control" placeholder="Enter mobile number"
                                        id="mobileNumber" name="mobileNumber" title="Enter a valid 10 digit phone number"
                                           maxlength="10" required pattern="[0-9]{10}">
                                </div>
                            </div>
                            <div class="form-group my-3 row">
                                <label class="col-12 col-xl-3"> Gender : </label>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="genderM"
                                            value="M" checked>
                                        <label class="form-check-label" for="genderM">
                                            Male
                                        </label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="genderF"
                                            value="F">
                                        <label class="form-check-label" for="genderF">
                                            Female
                                        </label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="genderN"
                                            value="N">
                                        <label class="form-check-label" for="genderN">
                                            Prefer Not To Say
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-md-4 col-lg-3" for="DOB"> DOB :</label>
                                <div class="col-12 col-md-7 col-lg-6">
                                    <input type="text"  class="form-control" placeholder="Enter DOB" id="DOB" name="DOB"
                                        required>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-sm-3 col-form-label col-xl-3" for="province"> Province
                                    :</label>
                                <div class="col-12 col-sm-9 col-xl-3">
                                    <!--                                <input type="text" class="form-control" placeholder="Enter province" id="province" name="province" required>-->
                                    <select class="form-select" aria-label="Select province" name="province"
                                        id="province" onchange="selectProvince(this.value)" required>
                                        <option value="" selected disabled>Select Province</option>
                                    </select>
                                </div>
                                <label class="col-12 col-sm-3 col-form-label col-xl-2 mt-3 mt-xl-0" for="city"> City
                                    :</label>
                                <div class="col-12 col-sm-9 col-xl-4 mt-0 mt-sm-3 mt-xl-0">
                                    <!--                                <input type="text" class="form-control" placeholder="Enter city" id="city" name="city" required>-->
                                    <select class="form-select" aria-label="Select city" name="city" id="city" required>
                                        <option value="" selected disabled>Select city</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="street"> Street Lane :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="text" class="form-control" placeholder="Enter street" id="street"
                                        name="street" required>
                                </div>
                            </div>
                            <div class="form-group row my-3">
                                <label class="col-12 col-form-label col-xl-3" for="postalCode"> Postal Code :</label>
                                <div class="col-12 col-xl-9">
                                    <input type="text" class="form-control" placeholder="Enter Postal Code"
                                        id="postalCode" name="postalCode" required>
                                </div>
                            </div>

                            <div class="doctorDetailsClass d-none">
                                <div class="form-group row my-3">
                                    <label class="col-12 col-form-label col-xl-3" for="qualification"> Qualification
                                        :</label>
                                    <div class="col-12 col-xl-9">
                                        <input type="text" class="form-control" placeholder="Enter your qualifications"
                                            id="qualification" name="qualification">
                                    </div>
                                </div>
                                <div class="form-group row my-3">
                                    <label class="col-12 col-form-label col-xl-3" for="field"> Expertise :</label>
                                    <div class="col-12 col-xl-9">
                                        <input type="text" class="form-control"
                                            placeholder="Enter your field of Expertise" id="field" name="field">
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <input type="submit" class="btn btn-primary" name="submit">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div id="toastDiv" class="toast-container position-fixed top-0 end-0 p-3"></div>
        <!-- End of Row-->
    </div>
    <!--End of Container-->
    <script>
        function checkPasswordMatch() {
            var password = document.getElementById("pwdSignup");
            var verifyPassword = document.getElementById("verifyPwd");
            var passwordMatchError = document.getElementById("passwordMatchError");

            if (password.value != verifyPassword.value) {
                passwordMatchError.innerHTML = "Passwords do not match.";
            } else {
                passwordMatchError.innerHTML = "";
            }
        }
        let slideIndex = 0;
        let slides, dots;
        let url = "";

        $(document).ready(function () {
            showSlides();

            $("#DOB").kendoDatePicker({
                max:new Date()
            });

            $('input[type=radio][name=userTypeSignUp]').change(function () {
                if ($('input[name="userTypeSignUp"]:checked').val() == 'Patient') {
                    $(".doctorDetailsClass").addClass("d-none");
                }
                if ($('input[name="userTypeSignUp"]:checked').val() == 'Doctor') {
                    $(".doctorDetailsClass").removeClass("d-none");
                }
            });

            for (let [key, value] of provinceList) {
                $('#province').append(`<option value=${key}>${value["abbrv"]}</option>`);
            }

            $.ajax({
                url: globalURL + "jwt/validateJWTToken",
                type: "POST",
                dataType: "json",
                data: getCookie("token")
            })
                .done(function (response) {
                    let data = response;
                    try {
                        if (data.isError) {
                            // addToast(true, "Error", data.msg);
                            // window.location.href="./index.html";
                        } else {
                            if (data.data.type == 'patient') {
                                setCookie("id", data.data.obj.id);
                                setCookie("name", data.data.obj.patientName);
                                setCookie("email", data.data.obj.patientEmail);
                                setCookie("city", data.data.obj.patientAddressCity);
                                setCookie("province", data.data.obj.patientAddressProvince);
                                setCookie("type", "patient");
                                window.location.href = './dashboard.html'
                            } else if (data.data.type == 'doctor') {
                                setCookie("id", data.data.obj.id);
                                setCookie("name", data.data.obj.doctorName);
                                setCookie("email", data.data.obj.doctorEmail);
                                setCookie("city", data.data.obj.doctorAddressCity);
                                setCookie("province", data.data.obj.doctorAddressProvince);
                                setCookie("type", "doctor");
                                window.location.href = './appointments.html'
                            } else if (data.data.type == 'admin') {
                                window.location.href = './admin/dashboard.html'
                            }
                        }
                    } catch (err) {
                        // addToast(true, "Error", "Some unknown error occurred. Pls try again later!")
                        // window.location.href="./index.html";
                    }
                })
                .fail(function (jqXHR, textStatus, errorThrown) {
                    // addToast(true, "Error", "Pls log in again!");
                    // window.location.href="./index.html";
                });
        });

        const globalURL = "http://localhost:6969/";

        window.count = 1;

        function toastHTML(isError, title, msg) {
            if (isError) {
                return `<div id="liveToast${count}" class="toast" role="alert" aria-live="assertive" aria-atomic="false"><div class="toast-header"><svg className="bd-placeholder-img rounded" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#FF0000"></rect></svg><strong class="ms-2 me-auto">${title}</strong><button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button></div><div class="toast-body">${msg}</div></div>`
            }
            return `<div id="liveToast${count}" class="toast" role="alert" aria-live="assertive" aria-atomic="false"><div class="toast-header"><svg className="bd-placeholder-img rounded" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#007aff"></rect></svg><strong class="ms-2 me-auto">${title}</strong><button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button></div><div class="toast-body">${msg}</div></div>`;
        }

        //reference - https://www.w3schools.com/js/js_cookies.asp
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function setCookie(name, value) {
            const d = new Date();
            d.setTime(d.getTime() + (7 * 24 * 60 * 60 * 1000));
            let expires = "expires=" + d.toUTCString();
            document.cookie = name + "=" + value + ";" + expires + ";path=/";
        }

        function addToast(isError, title, msg) {
            $('#toastDiv').append(toastHTML(isError, title, msg));
            $("#liveToast" + count).toast('show');
            count++;
        }

        function selectProvince(province) {
            let citySel = document.getElementById("city");
            citySel.length = 1;
            let cities = provinceList.get(province)["data"];
            for (let i = 0; i < cities.length; i++) {
                $('#city').append(`<option value="${cities[i]['id']}">${cities[i]['city']}</option>`);
            }
        }

        function plusSlides(position) {
            slideIndex += position;
            if (slideIndex > slides.length) {
                slideIndex = 1
            } else if (slideIndex < 1) {
                slideIndex = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");

            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
        }

        function currentSlide(index) {
            if (index > slides.length) {
                index = 1
            } else if (index < 1) {
                index = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[index - 1].style.display = "block";
            dots[index - 1].className += " active";
            slideIndex = index;
        }

        function showSlides() {
            var i;
            slides = document.getElementsByClassName("mySlides");
            dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) {
                slideIndex = 1
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            setTimeout(showSlides, 5000); // Change image every 5 seconds
        }

        function setActiveTab(currentTab) {
            $(".nav-link").removeClass("active");
            $("#" + currentTab).addClass("active");
            $(".nav-link").addClass("link-light");
            $("#" + currentTab).removeClass("link-light");
            $("form").addClass("d-none");
            $("#" + currentTab + "Form").removeClass("d-none");
        }

        $("form").submit(function (event) {
            let data = {};
            event.preventDefault();
            const id = this.id;
            let redirectURL = ""
            if (id === "signInForm") {
                if ($('input[name="userTypeSignIn"]:checked').val() == 'Patient') {
                    url = globalURL + "patient/login";
                    data["patientEmail"] = $("#emailSignIn").val();
                    data["patientPassword"] = $("#pwdSignIn").val();
                    redirectURL = "./dashboard.html";
                } else {
                    url = globalURL + "doctor/login";
                    data["doctorEmail"] = $("#emailSignIn").val();
                    data["doctorPassword"] = $("#pwdSignIn").val();
                    redirectURL = "./appointments.html";
                }
            } else if (id === "signUpForm") {
                if ($('input[name="userTypeSignUp"]:checked').val() == 'Patient') {
                    data["patientEmail"] = $("#emailSignup").val();
                    data["patientName"] = $("#nameSignup").val();
                    data["patientAddressProvince"] = $("#province").val();
                    data["patientAddressCity"] = $("#city").val();
                    data["patientAddressPostalCode"] = $("#postalCode").val();
                    data["patientAddressStreet"] = $("#street").val();
                    data["patientGender"] = $('input[name="gender"]:checked').val();
                    data["patientDOB"] = new Date($("#DOB").val());
                    data["patientMobileNumber"] = $("#mobileNumber").val();
                    data["patientPassword"] = $("#pwdSignup").val();
                    data["active"] = true;
                    data["blocked"] = false;
                    url = globalURL + "patient/register";
                    redirectURL = "./dashboard.html";
                } else {
                    data["doctorEmail"] = $("#emailSignup").val();
                    data["doctorName"] = $("#nameSignup").val();
                    data["doctorAddressProvince"] = $("#province").val();
                    data["doctorAddressPostalCode"] = $("#postalCode").val();
                    data["doctorAddressCity"] = $("#city").val();
                    data["doctorAddressStreet"] = $("#street").val();
                    data["doctorGender"] = $('input[name="gender"]:checked').val();
                    data["doctorDOB"] = new Date($("#DOB").val());
                    data["doctorMobileNumber"] = $("#mobileNumber").val();
                    data["doctorType"] = $("#field").val();
                    data["doctorQualification"] = $("#qualification").val();
                    data["doctorPassword"] = $("#pwdSignup").val();
                    data["active"] = false;
                    data["blocked"] = false;
                    url = globalURL + "doctor/register";
                    redirectURL = "./appointments.html";
                }
            }
            $.ajax({
                type: "POST",
                url: url,
                data: JSON.stringify(data),
                dataType: "json",
                contentType: "application/json"
            }).done(function (data) {
                if (data.isError) {
                    addToast(true, "Error", data.msg);
                } else {
		                if (id === "signUpForm") {
												location.reload();
		                }
                    addToast(false, "Hurray", data.msg);
                    setCookie("token", data.data.token);
                    setCookie("id", data.data.user.id);
										setCookie("profilePicture", data.data.user.profilePicture);
                    if (id === "signInForm" && $('input[name="userTypeSignIn"]:checked').val() == 'Patient') {
                        setCookie("name", data.data.user.patientName);
                        setCookie("email", data.data.user.patientEmail);
                        setCookie("city", data.data.user.patientAddressCity);
                        setCookie("province", data.data.user.patientAddressProvince);
                        setCookie("type", "patient");
                    } else {
                        setCookie("name", data.data.user.doctorName);
                        setCookie("email", data.data.user.doctorEmail);
                        setCookie("city", data.data.user.doctorAddressCity);
                        setCookie("province", data.data.user.doctorAddressProvince);
                        setCookie("type", "doctor");
                    }
                    window.location.href = redirectURL;
                }
            })
                .fail(function (jqXHR, textStatus, errorThrown) {
                    // let msg = JSON.parse(jqXHR.responseText);
                    addToast(true, "Error", "Some unknown error occurred. Pls try again later!")
                });
        });

    </script>
</body>

</html>